/* src/styles/globals.css */
/* MUST be at the very top */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Light Mode CSS Variables */
    --background: 0 0% 100%; /* White */
    --foreground: 240 10% 3.9%; /* Darker Gray - Adjusted for better contrast based on shadcn */

    --card: 0 0% 100%;
    --card-foreground: 240 10% 3.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 240 10% 3.9%;

    --primary: 120 61% 34%; /* Forest Green */
    --primary-foreground: 0 0% 100%; /* White */

    --secondary: 120 73% 75%; /* Light Green */
    --secondary-foreground: 240 10% 10%; /* Near Black */

    --muted: 0 0% 96.1%; /* Slightly adjusted shadcn light muted */
    --muted-foreground: 240 3.8% 46.1%; /* Adjusted shadcn light muted text */

    --accent: 51 100% 50%; /* Gold */
    --accent-foreground: 240 10% 10%; /* Near Black */

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;

    --border: 0 0% 89.8%; /* Adjusted shadcn light border */
    --input: 0 0% 89.8%; /* Input border same as border */
    --ring: 120 61% 34%; /* Forest Green (Focus Ring) */

    --radius: 0.5rem;
  }

  .dark {
    /* Dark Mode CSS Variables */
    --background: 0 0% 3.9%; /* Darker background based on shadcn */
    --foreground: 0 0% 98%; /* Light text */

    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;

    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;

    --primary: 229 76% 57%; /* Royal Blue */
    --primary-foreground: 0 0% 100%; /* White */

    --secondary: 206 91% 76%; /* Light Sky Blue */
    --secondary-foreground: 0 0% 7%; /* Very Dark Gray */

    --muted: 0 0% 14.9%; /* Adjusted shadcn dark muted */
    --muted-foreground: 0 0% 63.9%; /* Adjusted shadcn dark muted text */

    --accent: 180 100% 50%; /* Aqua */
    --accent-foreground: 0 0% 7%; /* Very Dark Gray */

    --destructive: 0 62.8% 30.6%; /* Adjusted destructive dark */
    --destructive-foreground: 0 0% 98%;

    --border: 0 0% 14.9%; /* Adjusted shadcn dark border */
    --input: 0 0% 14.9%; /* Input border same as border */
    --ring: 229 76% 57%; /* Royal Blue (Focus Ring) */
  }
}

@layer base {
   * {
     @apply border-border; /* Apply border color using variable */
   }
  body {
    @apply bg-background text-foreground; /* APPLY background and text color HERE */
    font-feature-settings: "rlig" 1, "calt" 1;
    @apply antialiased; /* Add antialiasing for smoother fonts */
  }

  /* Base styles for links */
   a {
     @apply text-primary underline-offset-4 transition-colors hover:underline hover:text-primary/90;
   }

   /* Focus visible styles */
    *:focus-visible {
      @apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
    }
}

/* Styles for react-phone-number-input */
/* --- Keep the phone input, rdp, and relatives-tree styles exactly as provided in the previous correct step --- */
.PhoneInput { @apply flex items-center; }
.PhoneInputInput { @apply flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 flex-1; border-left-width: 0 !important; border-top-left-radius: 0 !important; border-bottom-left-radius: 0 !important; }
.PhoneInputCountry { @apply relative flex items-center; @apply h-10 rounded-md border border-input bg-background px-3 py-2 ring-offset-background focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2; border-top-right-radius: 0 !important; border-bottom-right-radius: 0 !important; margin-right: -1px; z-index: 1; }
.PhoneInputCountryIcon { @apply w-6 h-auto shadow-sm mr-2 flex-shrink-0; }
.PhoneInputCountrySelect { @apply absolute inset-0 opacity-0 cursor-pointer z-10 w-full; }
.PhoneInputCountrySelectArrow { @apply w-4 h-4 text-muted-foreground ml-1 flex-shrink-0; }

/* Styles for react-day-picker */
.rdp { --rdp-cell-size: 40px; --rdp-accent-color: hsl(var(--primary)); --rdp-background-color: hsl(var(--accent) / 0.1); --rdp-outline: 2px solid hsl(var(--ring)); --rdp-outline-selected: 3px solid hsl(var(--primary)); margin: 1em 0; }
.rdp-caption_label { @apply text-sm font-medium; }
.rdp-caption { @apply flex justify-center pt-1 relative items-center mb-4; }
.rdp-nav { @apply space-x-1 flex items-center; }
.rdp-nav_button { @apply h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100; @apply inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 hover:bg-accent hover:text-accent-foreground; }
.rdp-nav_button_previous { @apply absolute left-1; }
.rdp-nav_button_next { @apply absolute right-1; }
.rdp-table { @apply w-full border-collapse space-y-1; }
.rdp-head_row, .rdp-row { @apply flex w-full mt-2; }
.rdp-head_cell { @apply text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]; @apply flex items-center justify-center; }
.rdp-cell { @apply h-9 w-9 text-center text-sm p-0 relative; @apply first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md; @apply focus-within:relative focus-within:z-20; }
.rdp-day { @apply h-9 w-9 p-0 font-normal aria-selected:opacity-100; @apply inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 hover:bg-accent hover:text-accent-foreground; @apply bg-transparent; }
.rdp-day_selected { @apply bg-primary text-primary-foreground hover:bg-primary/90 focus:bg-primary/90; }
.rdp-day_today { @apply bg-accent text-accent-foreground; }
.rdp-day_outside { @apply text-muted-foreground opacity-50; @apply aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30; }
.rdp-day_disabled { @apply text-muted-foreground opacity-50; }
.rdp-day_range_middle { @apply aria-selected:bg-accent aria-selected:text-accent-foreground rounded-none; }
.rdp-day_hidden { visibility: hidden; }

/* Styles for relatives-tree */
.relatives-tree-container svg { @apply bg-background rounded-lg border border-border; }
.relatives-tree-link { @apply stroke-border transition-all; }